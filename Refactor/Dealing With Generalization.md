#refactor
## Pull Up Field
**Два класса имеют одно и то же поле.**
Переместите поле в суперкласс, убрав его из подклассов.

![[Pasted image 20240818190230.png]]

## Pull Up Method
**Подклассы имеют методы, которые делают схожую работу.**
В этом случае нужно сделать методы идентичными, а затем переместить их в суперкласс.

![[Pasted image 20240818190310.png]]

## Pull Up Constructor Body
**Подклассы имеют конструкторы с преимущественно одинаковым кодом.**
Создайте конструктор в суперклассе и вынесите в него общий для подклассов код. Вызывайте конструктор суперкласса в конструкторах подкласса.
```cs
public class Manager: Employee 
{
  public Manager(string name, string id, int grade) 
  {
    this.name = name;
    this.id = id;
    this.grade = grade;
  }
  // ...
}

//------------------------------------------------------------------------

public class Manager: Employee 
{
  public Manager(string name, string id, int grade): base(name, id)
  {
    this.grade = grade;
  }
  // ...
}
```

## Push Down Field
**Поле используется только в некоторых подклассах.**
Переместите поле в эти подклассы.

![[Pasted image 20240818190441.png]]

## Push Down Method
**Поведение, реализованное в суперклассе, используется только одним или несколькими подклассами.**
Переместите это поведение в подклассы.

![[Pasted image 20240818190518.png]]

## Extract Subclass
**Класс имеет фичи, которые используются только в определённых случаях.**
Создайте подкласс и используйте его в этих случаях.

![[Pasted image 20240818190600.png]]

## Extract Superclass
**У вас есть два класса с общими полями и методами.**
Создайте для них общий суперкласс и перенесите туда одинаковые поля и методы.

![[Pasted image 20240818190632.png]]

## Extract Interface
**Несколько клиентов пользуются одной и той же частью интерфейса класса. Либо в двух классах часть интерфейса оказалась общей.**
Выделите эту общую часть в свой собственный интерфейс.

![[Pasted image 20240818190707.png]]

## Collapse Hierarchy
**У вас есть некая иерархия классов, в которой подкласс мало чем отличается от суперкласса.**
Слейте подкласс и суперкласс воедино.

![[Pasted image 20240818190810.png]]

## Form Template Method
**В подклассах реализованы алгоритмы, содержащие похожие шаги и одинаковый порядок выполнения этих шагов.**
Вынесите структуру алгоритма и одинаковые шаги в суперкласс, а в подклассах оставьте реализацию отличающихся шагов.

![[Pasted image 20240818191048.png]]

## Replace Inheritance with Delegation
**У вас есть подкласс, который использует только часть методов суперкласса или не хочет наследовать его данные.**
Создайте поле и поместите в него объект суперкласса, делегируйте выполнение методов объекту-суперклассу, уберите наследование.

![[Pasted image 20240818191133.png]]

## Replace Delegation with Inheritance
**Класс содержит множество простых делегирующих методов ко всем методам другого класса.**
Сделайте класс наследником делегата, после чего делегирующие методы потеряют смысл.

![[Pasted image 20240818191221.png]]
